# Haskellによるライブコーディング #66 レスポンスヘッダー

実際に配信した動画: <https://www.youtube.com/watch?v=afN72bqry4M>

## 📈本日の主な進捗

- レスポンスヘッダーを型レベルリストとして組み立てる処理、Servantに倣って実装してみてる
    - <https://github.com/igrep/wai-sample/commit/234a1480b6e78d221db2c3ad15df4861c718311a>

## ℹ️補足情報

`FunctionalDependencies`というGHCの言語拡張を今回初めて使いました（以前使いかけて結局使わなかった、ような記憶もありますが！）。

詳しい解説は次回、私自身も復習しながら行います。とりあえず参考リンクだけ:

- <https://ghc.gitlab.haskell.org/ghc/doc/users_guide/exts/functional_dependencies.html>
    - TODO: 次回はこちらに書かれている`Collects`型クラスの礼を使って説明し、この節に追加
- <https://wiki.haskell.org/Functional_dependencies>

## 次回（以降）

1. 引き続き`WithHeaders`型とその値を組み立てる`headered`関数を、Servantの`addHeader`関数に倣った実装で書き直す
1. その後は、`WithHeaders`を`ToRawResponse`/`FromRawResponse`のインスタンスにすることで、`Handler`の戻り値として扱えるようにしたいと思います。
