# Haskellã«ã‚ˆã‚‹ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° #17 Acceptã«å¿œã˜ã¦Content-Typeã‚’å¤‰æ›´

å®Ÿéš›ã«é…ä¿¡ã—ãŸå‹•ç”»: <https://www.youtube.com/watch?v=xHBykj6fveY>

## ğŸ“ˆæœ¬æ—¥ã®ä¸»ãªé€²æ—

ã‚³ãƒŸãƒƒãƒˆ: <https://github.com/igrep/wai-sample/commit/304b8f4b2dca009af333c6a8a6f4422061c1e22b>

ã“ã¡ã‚‰ã®ç¶šãã‚’ã‚„ã‚Šã€ã‚µãƒ¼ãƒãƒ¼å´ã®ä¿®æ­£ãŒã§ãã¾ã—ãŸ:

ï¼ˆå‰å›ã®è¨˜éŒ²ã‚ˆã‚Šå¼•ç”¨ï¼‰

> [å‰å›ã®è¨˜éŒ²](https://github.com/igrep/wai-sample/blob/master/live-coding/2021-10-27.md)ã«æ›¸ã„ãŸã€Œæ¬¡å›ã€ã®ã¨ãŠã‚Šã€Servantã®[MimeRender](https://hackage.haskell.org/package/servant-0.18.3/docs/Servant-API-ContentTypes.html#t:MimeRender)ã€[MimeUnrender](https://hackage.haskell.org/package/servant-0.18.3/docs/Servant-API-ContentTypes.html#t:MimeUnrender)ã€[Accept](https://hackage.haskell.org/package/servant-0.18.3/docs/Servant-API-ContentTypes.html#t:Accept)å‹ã‚¯ãƒ©ã‚¹ã‚’å‚è€ƒã«ã€ã€Œå¯¾è±¡ã®å‹ã®å€¤ã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒœãƒ‡ã‚£ãƒ¼ã‚’ç›¸äº’å¤‰æ›ã§ãã‚‹ã€ã“ã¨ã‚’è¡¨ã™å‹ã‚¯ãƒ©ã‚¹ã‚’åˆ†è§£ã—ã€`ChooseMediaType`ã«é¸æŠã™ã‚‹å¤‰æ›å…ƒã®å€¤ã‚’å…¥ã‚Œãªãã¦ã‚‚ã„ã„ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã†ã™ã‚‹ã“ã¨ã§ã€å„`Handler`ã®å€¤ã«ã€Œã©ã®Content Typeã‚’è¿”ã—ã†ã‚‹ã‹ã€ã¨ã„ã†æƒ…å ±ã‚’ç›´æ¥å«ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€çµæœå¾“æ¥ã®`fromResponseBody`ç›¸å½“ã®é–¢æ•°ã«ã‚‚ã€Œã©ã®Content Typeã‚’è¿”ã—ã†ã‚‹ã‹ã€ã¨ã„ã†æƒ…å ±ã‚’æ¸¡ã›ã‚‹ã‚ˆã†ã«ãªã‚‹ã¯ãšã§ã™ã€‚

## â„¹ï¸è£œè¶³æƒ…å ±

Haskellå…¨ç„¶é–¢ä¿‚ãªãã¦æç¸®ã§ã™ãŒã€[vim-abolish](https://github.com/tpope/vim-abolish)ã¨ã„ã†Vimãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãŠã‹ã’ã§ã€å¤§æ–‡å­—å°æ–‡å­—ã®æ§‹é€ ã‚’ç¶­æŒã—ãŸçŠ¶æ…‹ã§ä¸€æ‹¬ç½®æ›ãŒã§ãã¾ã—ãŸã€‚ä¾¿åˆ©ã§ã™ã­ã€‚

## æ¬¡å›

ã‚ã¨ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ãŸã¨ãã«èµ·ã“ã‚‹å‹ã‚¨ãƒ©ãƒ¼ã‚’ç›´ã›ã°ã„ã„ã¯ãšï¼
